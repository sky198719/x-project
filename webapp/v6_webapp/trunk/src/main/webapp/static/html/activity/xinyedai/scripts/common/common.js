require.config({shim:{cookie:["zepto"]},paths:{zepto:"../library/zepto",cookie:"../library/zepto.cookie"}});var ajaxlink="../../../../",ajaxlink2="../../../../../",extra="?jsonpCallback=?";define(["zepto","cookie"],function(n,t){return function(n,t,e){var i=n.documentElement,o="orientationchange"in window?"orientationchange":"resize",r=function(){var n=i.clientWidth;n&&(i.style.fontSize=e*(n/320)+"px")};n.addEventListener&&(t.addEventListener(o,r,!1),n.addEventListener("DOMContentLoaded",r,!1))}(document,window,16),$(window).resize(),$(".alertBox").find("span").on("click",function(){"登录过期，请重新登录！"==$(".alertBox").find("strong").html()?window.location.href="index.html":($(".layer").hide(),$(".alertBox").hide())}),$(".alertBox").find(".close").on("click",function(){"登录过期，请重新登录！"==$(".alertBox").find("strong").html()?window.location.href="index.html":($(".layer").hide(),$(".alertBox").hide())}),$(".scrollBox").find(".cancel").on("click",function(){$(".layer").hide(),$(".scrollBox").hide()}),$.each($(".scrollBox"),function(){$.each($(this).find("div"),function(){var n,t=$(this),e=!1;n=parseInt(t.scrollTop()/parseInt(t.parent(".scrollBox").children("span").css("height"))+.5),t.find("li").removeClass("current").eq(n).addClass("current"),t.scroll(function(){n=parseInt(t.scrollTop()/t.parent(".scrollBox").children("span").height()+.5),t.find("li").removeClass("current").eq(n).addClass("current"),e&&clearTimeout(e),e=setTimeout(function(){t.scrollTop(t.parent(".scrollBox").children("span").height()*n)},100)})})}),{headerLoad:function(n,t,e,i,o,r){var a=parseInt(t);$.ajax({url:"template/header.html",type:"get",success:function(t){$(".header").replaceWith(t),$(".navBar").find("h1").html(n),1==e?$(".pre").show():$(".pre").hide(),$(".pre").on("click",function(){window.location.href=i}),1==o?$(".finish").show():$(".finish").hide(),$(".finish").on("click",function(){window.location.href=r});for(var l=0;l<a;l++)$(".progressBar").find("ul").find("li").eq(l).addClass("current");for(var l=0;l<a-1;l++)$(".progressBar").find("ol").find("li").eq(l).addClass("current")},error:function(){$(".layer").show(),$(".alertBox").show(),$(".alertBox").find("strong").html("网络异常请重试")}})},simSelect:function(n,t){$(n).find("div").on("click",function(){$(".layer").show(),$(t).show()})},scrollConfirm:function(n,t){var e="",i="",o="";$(n).find(".confirm").on("click",function(){e="",$(".layer").hide(),$.each($(n).find(".current"),function(){e+=$(this).html()+" ",$(this).parent("ul").parent("div").index()<=1?(i=$(this).attr("value"),$(t).find("div").attr("value",i)):(o=$(this).attr("value"),$(t).find("div").attr("alt",o))}),$(t).find("div").html(e),$(t).find("div").addClass("active"),$(n).hide()})},simRadio:function(n){$(n).find("span").on("click",function(){$(n).find("span").removeClass("active"),$(this).addClass("active")})},emptyInspect:function(n){if($(n).find("input").length>0){var t=$(n).find("input").val().replace(/(^\s+)|(\s+$)/g,"");return""==t?($(".layer").show(),$(".alertBox").show(),$(".alertBox").find("strong").html($(n).find("label").html()+"不能为空"),1):0}var e=$(n).find("div").html().replace(/(^\s+)|(\s+$)/g,"");return e==$(n).attr("alt")?($(n).find("div").removeClass("active"),$(".layer").show(),$(".alertBox").show(),$(".alertBox").find("strong").html($(n).find("label").html()+"不能为空"),1):($(n).find("div").addClass("active"),0)},mobileInspect:function(n){var t=/^1[34578]\d{9}$/;return t.test($(n).find("input").val())?0:($(".layer").show(),$(".alertBox").show(),$(".alertBox").find("strong").html($(n).find("label").html()+"格式错误"),1)},idInspect:function(n){var t=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/;return t.test($(n).find("input").val())?0:($(".layer").show(),$(".alertBox").show(),$(".alertBox").find("strong").html($(n).find("label").html()+"格式错误"),1)},numberInspect:function(n){var t=/^[0-9]*$/;return t.test($(n).find("input").val())?0:($(".layer").show(),$(".alertBox").show(),$(".alertBox").find("strong").html($(n).find("label").html()+"必须为大于零的整数"),1)},alertBox:function(n){$(".layer").show(),$(".alertBox").show(),$(".alertBox").find("strong").html(n)},ajaxSubmit:function(n,t,e){$.ajax({url:n,type:"post",dataType:"jsonp",jsonp:"jsonpcallback",data:t,success:function(n){0==n.resultCode?window.location.href=e:($(".layer").show(),$(".alertBox").show(),$(".alertBox").find("strong").html(n.msg))},error:function(){$(".layer").show(),$(".alertBox").show(),$(".alertBox").find("strong").html("网络异常请重试")}})}}});